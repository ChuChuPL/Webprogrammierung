<!DOCTYPE html>
<html>
<head>
<title>Ex9 Tic Tac Toe</title>
<style>
  td {
    border: 1px solid black;
    width:100px;
    height:100px;
    z-index:0;
  }
  td img{
    display: block;
    margin-left: auto;
    margin-right: auto;
        z-index:10;
}
  tr { 
    width: 300px;
    height: 100px;
    border: 1px solid black; 
  }
 
  table{
    width: 300px;
    border: 1px solid black;
    border-collapse: collapse;
  }

</style> 
</head>
<body style="background-color:smokewhite">
<!-- Insert the basic DOM Elements, that you want to use, h2-Header, table...-->
  <h1 id="caption"> </h1>
  <button id= "Start" onclick="remove()">Start</button>
  <table>
   <tr>
     <td id= "1" onclick="tikTak(1);"></td>
     <td id= "2" onclick="tikTak(2);"></td>
     <td id= "3" onclick="tikTak(3);"></td>
   </tr>
   <tr>
     <td id= "4" onclick="tikTak(4);"></td>
     <td id= "5" onclick="tikTak(5);"></td>
     <td id= "6" onclick="tikTak(6);"></td>
   </tr>
   <tr>
     <td id= "7" onclick="tikTak(7);"></td>
     <td id= "8" onclick="tikTak(8);"></td>
     <td id= "9" onclick="tikTak(9);"></td>
   </tr>
    
 </table>

<!-- Write JavaScript Code to manipulate the DOM-->
<script>
  var counter=0;
  var a= [0,0,0,0,0,0,0,0,0];
  var win = false;
  var started=false;
  
  function check(){
  if(a[0]== a[4]&& a[4]==a[8] && a[0]!=0 || 
     a[6]== a[4]&& a[4]==a[2] && a[6]!=0 ||
     a[0]== a[1]&& a[1]==a[2] && a[0]!=0 ||
     a[3]== a[4]&& a[4]==a[5] && a[3]!=0 ||
     a[6]== a[7]&& a[7]==a[8] && a[6]!=0 ||
     a[0]== a[3]&& a[3]==a[6] && a[0]!=0 ||
     a[1]== a[4]&& a[4]==a[7] && a[1]!=0 ||
     a[2]== a[5]&& a[5]==a[8] && a[2]!=0){
     win=true;
    document.getElementById("Start").style.visibility = "visible";
    if(counter%2==0){
      document.getElementById("caption").innerHTML = "Player B gewinnt";
  }else{
    document.getElementById("caption").innerHTML = "Player A gewinnt";
  }
  
  }else if(a[0]!=0 && a[1]!=0 && a[2]!=0 && a[3]!=0 && a[4]!=0 && a[5]!=0 && a[6]!=0 && a[7]!=0 && a[8]!=0) {
   document.getElementById("caption").innerHTML = "Unentschieden";
    win=true;
    document.getElementById("Start").style.visibility = "visible";
  }
    
  }

  function remove(){
    started=true;
    for(i=1; i<10; i++){
      document.getElementById(i).innerHTML = "";
      a= [0,0,0,0,0,0,0,0,0];
      win=false;
      counter=0;
      document.getElementById("caption").innerHTML = "Player A ist am Zug";
      document.getElementById("Start").style.visibility = "hidden";
    }
  }

  function tikTak(x){
    if(a[x-1]==0 && win==false && started==true){
    if(counter%2==0){
    var img = document.createElement('img');
    img.src='img/x.png';
    document.getElementById(x).appendChild(img);
    a[x-1]=1;
    document.getElementById("caption").innerHTML = "Player B ist am Zug";
    }else{
    var imgO = document.createElement('img');
    imgO.src='img/o.png';
    document.getElementById(x).appendChild(imgO);
    a[x-1]=2;
      document.getElementById("caption").innerHTML = "Player A ist am Zug";
    }
      
    counter++;
    }
    check();
  }
</script>
</body>
</html>